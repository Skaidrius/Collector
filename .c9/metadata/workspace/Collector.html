{"changed":true,"filter":false,"title":"Collector.html","tooltip":"/Collector.html","value":"<!DOCTYPE html>\n<html>\n  <head>\n    <title>Collector</title>\n    <meta charset = 'UTF-8'>\n    <style>\n      h3 { color: darkred; margin-left: 5%; } \n      table, th, td { border: 1px solid grey; text-align:center; }\n      table { margin-left: 5%; } \n      thead, tfoot { background-color: GainsBoro; }\n      #add { margin-left: 5%; }\n      #val { margin-top: 5px; margin-left: 5%; }\n      #add1 { width: 90px; }\n      .default { background: #fff; }\n      .invisible { display: none; }\n      .visible { display: inline; }\n      .notattend { background: #fff; color: #000; }\n      .attend { background: OliveDrab; color: #fff; }\n      .notpayed { background: IndianRed; color: #fff; }\n      .payed { background: GainsBoro; color: #000; }\n      .button { width: 110px; }\n      .txt { color: Grey; margin-left: 5%; font-size: 11px; font-weight: normal; } \n      .textBoxSmall { width: 30px; }\n      .black { color: black; }\n    </style>\n  </head>\n  <body onload  = 'tableFun()' >\n    <h3>Collector</h3>\n    <div>\n      <p id = 'tabinfo'></p>\n      \n    \n      <input type = 'button' id = 'add' value = 'Add Person' onclick = 'addPerson()' class = 'button'/>\n      <div id = 'adding' class = 'invisible'>\n        <input type = 'text' id = 'add1'>\n        <input type = 'button' id = 'plus' value = '+' onclick = 'plusPerson()'/>\n      </div>\n      \n      <input type = 'button' id = 'remove' value = 'Remove Person' onclick = 'remPerson()' class = 'button'/>\n      <div id = 'removing' class = 'invisible'>\n        <input type = 'text' id = 'remove1' class = 'textBoxSmall'>\n        <input type = 'button' id = 'minus' value = '-' onclick = 'minusPerson()'/>\n      </div>\n                  \n    </div>\n    \n    \n    <div id = 'txt' class = 'invisible'>\n      <h5 class = 'txt'>After page reload all changes will be lost. </br> To save them edit list in <span class = 'black'>'empl.js'</span> file </h5>\n    </div>\n    \n    <div id = 'val'> \n      <form id = 'pick'>\n        Sum ($):\n          <select id = 'sel' onchange = 'valCheck()'>\n          <option>7</option>\n          <option>10</option>\n          <option>20</option>        \n      </form>\n    </div>\n  \n  <script>\n  \n// Setting array people (THIS LIST 'temp' SHOULD BE EDITED MANUALY)   \nvar temp = \"First Person, Second Person, Third Person, Fourth Person, Fifth Person, Sixth Person, Seventh Person, Eight Person, Ninth Person, Tenth Person\";\nvar empl = new Array();\nempl = temp.split(',');\n\n// drawing table \nvar tableFun = function () {\n\n    var cellTitle = ['No.', 'Name Lastname', 'Attend', 'Payed', 'Debt'];\n      var body = document.getElementById('tabinfo');\n      var table = document.createElement('table');\n      table.id = \"table\";\n      var tableBody = document.createElement('tbody');\n      var tableFooter = document.createElement('tfoot');\n      var tableHeader = document.createElement('thead');\n         \n      //creating table header and footer\n        //header\n      for (var x = 0; x<cellTitle.length; x++) {\n        var tableRowH = document.createElement('td');\n        tableRowH.appendChild(document.createTextNode(cellTitle[x]));\n        tableHeader.appendChild(tableRowH);\n        var tableRowF = document.createElement('td');\n        \n        //footer\n        var footerDiv = document.createElement('DIV');\n        footerDiv.id = \"Footer\" + x + '';\n        footerDivText = document.createTextNode(cellTitle[x]);\n        footerDiv.appendChild(footerDivText);\n        tableRowF.appendChild(footerDiv);\n        tableFooter.appendChild(tableRowF);\n      }\n        \n      // creating table body\n      for (var y = 0; y < empl.length; y++) {\n        var row = document.createElement('tr');\n\n        // Creates rows and a text nodes\n        var firstCell = document.createTextNode(y+1+'.');\n        var secondCell = document.createElement('DIV');\n          secondCell.id = \"Person\" + y + '';\n          secondCellText = document.createTextNode(empl[y]);\n          secondCell.appendChild(secondCellText);\n          \n        var thirdCell = document.createElement('INPUT'); \n          thirdCell.setAttribute('type','checkbox'); \n          thirdCell.id = \"InputA\" + y + '';\n          thirdCell.checked = false;\n          \n        var fourthCell = document.createElement('INPUT'); \n          fourthCell.setAttribute('type','checkbox'); \n          fourthCell.id = \"InputB\" + y +'';\n          fourthCell.checked = false;\n          \n        var fifthCell = document.createElement('DIV');\n          fifthCell.id = \"Value\" + y + '';\n          fifthCellText = document.createTextNode('');\n          fifthCell.appendChild(fifthCellText);\n  \n        //filling table with cells\n        for (var x2 = 0; x2 < cellTitle.length; x2++) {\n          var cell = document.createElement('td');    \n          var tContent = [firstCell, secondCell, thirdCell, fourthCell, fifthCell];    \n          cell.appendChild(tContent[x2]);\n          row.appendChild(cell);\n        }\n        //finishing table       \n        tableBody.appendChild(row);\n        table.appendChild(tableHeader);\n        table.appendChild(tableBody);\n        table.appendChild(tableFooter);\n        body.appendChild(table);\n      }\n            \n }\n       document.addEventListener('change', valCheck, false);\n\n//function of checking value\n  function valCheck() {\n    var attend = 0;\n    var payed = 0;\n    var debt = 0;\n    var suma = document.getElementById('sel').value;\n            \n        for (var u = 0; u < empl.length; u++) {\n          var Id1 = \"InputA\" + u + '';\n          var Id2 = \"InputB\" + u + '';\n          var Input1 = document.getElementById(Id1);\n          var Input2 = document.getElementById(Id2);\n          var person = \"Person\" + u + '';\n                    \n          //change background and denied Input2 while Input1 is false \n          if (!Input1.checked) {\n            Input2.checked = false;\n            document.getElementById(person).className = \"notattend\";\n          } else {\n            document.getElementById(person).className = \"attend\";\n          }\n          var value = \"Value\" + u + '';\n          var valEntry = document.getElementById(value);\n       \n          //checking debt value\n          if (Input1.checked!=Input2.checked) {\n            valEntry.innerHTML = 'Yes';\n            document.getElementById(person).className = \"notpayed\";\n          } else if (!Input1.checked&&!Input2.checked) { \n            valEntry.innerHTML = '';\n          } else {                                                 \n            valEntry.innerHTML = 'No';\n          }\n          //filling footer entries and style\n          if (Input1.checked) {attend++;}\n          if (Input2.checked) {payed++;}\n          if (Input1!=Input2) {debt = attend - payed;}\n          \n          var footer2 = document.getElementById('Footer2');\n          var footer3 = document.getElementById('Footer3');\n          var footer4 = document.getElementById('Footer4');\n          \n          footer2.innerHTML = attend;\n          footer3.innerHTML = payed+' / '+attend;\n          footer4.innerHTML = debt*suma+ ' $'; \n          if (attend!=payed) {\n            footer2.className = \"notpayed\";\n            footer3.className = \"notpayed\";\n            footer4.className = \"notpayed\";\n          } else {\n            footer2.className = \"payed\";\n            footer3.className = \"payed\";\n            footer4.className = \"payed\";\n          }\n        }\n  }\n\n//modyfying table \n\n//toggle textbox and button for adding person \nfunction addPerson() {\n  var add1 = document.getElementById('add1');\n  var remove1 = document.getElementById('remove1');\n  var adding = document.getElementById('adding');\n  var removing = document.getElementById('removing');\n  var txt = document.getElementById('txt');\n    \n  add1.value = '';\n  if (adding.className != 'visible') {\n    adding.className = 'visible';\n    txt.className = 'visible';\n    if (removing.className == 'visible') {\n      removing.className = 'invisible';\n    }\n  } else {\n    adding.className = 'invisible';\n    txt.className = 'invisible';\n  };\n};\n\n//toggle textbox and button for removing person \nfunction remPerson(){  \n  if (removing.className != 'visible') {\n    remove1.value = '';\n    removing.className = 'visible';\n    txt.className = 'visible';\n    if  (adding.className == 'visible') {\n      adding.className = 'invisible';\n    }\n  } else {\n    removing.className = 'invisible';\n    txt.className = 'invisible';\n  };\n};\n\n//add person to array 'empl'\nfunction plusPerson() {\n  var plusVal = add1.value;\n  if (plusVal != '') {\n    empl.push(plusVal);\n    add1.value = '';\n    var elem = document.getElementById('table');\n    elem.parentNode.removeChild(elem);\n    tableFun();\n  }\n};\n//remove person from array 'empl'\nfunction minusPerson() {\n  var remoVal = remove1.value;\n  var minusVal = remoVal-1;\n  if (remoVal != ''&&remoVal%1===0) {\n    empl.splice(minusVal,1);\n    remove1.value = '';\n    var elem = document.getElementById('table');\n    elem.parentNode.removeChild(elem);\n    tableFun();\n  }\n};\n  \n  </script>\n    \n  </body>\n</html>\n","undoManager":{"mark":8,"position":9,"stack":[[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":19,"column":43},"end":{"row":19,"column":45}},"text":":;"}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":19,"column":44},"end":{"row":19,"column":45}},"text":";"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":98,"column":47},"end":{"row":99,"column":0}},"text":"\n"},{"action":"insertText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":8}},"text":"        "}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":8},"end":{"row":99,"column":9}},"text":"v"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":9},"end":{"row":99,"column":10}},"text":"a"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":10},"end":{"row":99,"column":11}},"text":"r"}]}],[{"group":"doc","deltas":[{"action":"insertText","range":{"start":{"row":99,"column":11},"end":{"row":99,"column":12}},"text":" "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":99,"column":0},"end":{"row":99,"column":12}},"text":"        var "}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":100,"column":0},"end":{"row":100,"column":8}},"text":"        "},{"action":"removeLines","range":{"start":{"row":99,"column":0},"end":{"row":100,"column":0}},"nl":"\n","lines":[""]}]}],[{"group":"doc","deltas":[{"action":"removeText","range":{"start":{"row":258,"column":2},"end":{"row":259,"column":0}},"text":"\n"}]}]]},"ace":{"folds":[],"scrolltop":1302,"scrollleft":0,"selection":{"start":{"row":258,"column":2},"end":{"row":258,"column":2},"isBackwards":false},"options":{"guessTabSize":true,"useWrapMode":false,"wrapToView":true},"firstLineState":0},"timestamp":1409838710757}